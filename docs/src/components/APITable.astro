---
import {
    getLanguageFromURL,
    useTranslations,
    useTranslatedPath,
} from "../i18n/utilities.js";

import CodeBlock from "./CodeBlock.astro";
import Heading from "./Heading.astro";

export interface Props {
    componentName: string;
}

interface CEMType {
    text?: string;
}

interface CEMParameter {
    name: string;
    type: CEMType | string;
}

interface CEMProperty {
    name: string;
    attribute?: string;
    description?: string;
    type?: CEMType | string;
    reflects?: boolean;
    default?: string;
    kind: string;
    privacy?: string;
}

interface CEMMethod {
    name: string;
    description?: string;
    parameters?: CEMParameter[];
    kind: string;
    privacy?: string;
}

interface CEMEvent {
    name: string;
    description?: string;
    type?: CEMType | string;
}

interface CEMSlot {
    name: string;
    description?: string;
}

interface CEMCSSProperty {
    name: string;
    description?: string;
    default?: string;
}

interface CEMCSSPart {
    name: string;
    description?: string;
}

interface CEMAnimation {
    name: string;
    description?: string;
}

interface CEMDeclaration {
    name: string;
    tagName?: string;
    members?: (CEMProperty | CEMMethod)[];
    events?: CEMEvent[];
    slots?: CEMSlot[];
    cssProperties?: CEMCSSProperty[];
    cssParts?: CEMCSSPart[];
    animations?: CEMAnimation[];
    dependencies?: string[];
}

interface CEMModule {
    declarations?: CEMDeclaration[];
}

interface CEMManifest {
    package?: {
        version?: string;
    };
    modules?: CEMModule[];
}

interface ReflectsIconProps {
    attribute?: string;
    reflects?: boolean;
}

const { componentName } = Astro.props;

const loadManifest = async (): Promise<
    (CEMManifest & { package?: { version?: string } }) | null
> => {
    try {
        const manifestModule = await import("placer-toolkit/dist/custom-elements.json", {
            assert: { type: "json" }
        });
        const manifest = manifestModule.default ?? manifestModule;
        return manifest as CEMManifest & { package?: { version?: string } };
    } catch (error) {
        console.error(`Couldn’t load the CEM file: ${error}`);
        return null;
    }
};

const findComponentData = (
    manifest: CEMManifest,
    componentName: string,
): CEMDeclaration | null => {
    if (!manifest.modules) {
        return null;
    }

    for (const module of manifest.modules) {
        const declaration = module.declarations?.find(
            (decl) =>
                decl.name === componentName || decl.tagName === componentName,
        );
        if (declaration) {
            return declaration;
        }
    }
    return null;
};

const formatType = (type: CEMType | string | undefined): string => {
    if (!type) {
        return "";
    }

    if (typeof type === "string") {
        return type.replace(/^\|\s/, "");
    }

    if (typeof type === "object" && type.text) {
        return type.text.replace(/^\|\s/, "");
    }

    return JSON.stringify(type);
};

const getReflectsIcon = ({
    attribute,
    reflects,
}: ReflectsIconProps): string => {
    const hasReflection = attribute || reflects;
    const iconName = hasReflection ? "check" : "xmark";
    const className = hasReflection ? "reflects" : "does-not-reflect";
    const iconLabel = hasReflection ? translation("apiTable.reflects.yes") : translation("apiTable.reflects.no");

    return `
        <pc-icon
            class="${className}"
            library="default"
            icon-style="solid"
            name="${iconName}"
            label="${iconLabel}"
        ></pc-icon>
    `;
};

const escapeHTML = (text: string): string =>
    text
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#39;");

const renderInline = (text: string): string => {
    if (!text) {
        return "";
    }

    text = text.replace(
        /`([^`]+?)`/g,
        (_, code) => `<code>${escapeHTML(code)}</code>`,
    );

    text = text.replace(
        /\[([^\]]+?)\]\(([^)]+?)\)/g,
        (_, label, href) =>
            `<a href="${escapeHTML(href)}">${renderInline(label)}</a>`,
    );

    text = text.replace(
        /!\[([^\]]*?)\]\(([^)]+?)\)/g,
        (_, alt, src) =>
            `<img src="${escapeHTML(src)}" alt="${escapeHTML(alt)}">`,
    );

    text = text.replace(
        /(\*\*|__)(.+?)\1/g,
        (_, __, content) => `<strong>${renderInline(content)}</strong>`,
    );

    text = text.replace(
        /(\*|_)(.+?)\1/g,
        (_, __, content) => `<em>${renderInline(content)}</em>`,
    );

    text = text.replace(
        /~~(.+?)~~/g,
        (_, content) => `<del>${renderInline(content)}</del>`,
    );

    return text;
};

const renderMarkdown = (text: string): string => {
    if (!text) {
        return "";
    }

    const lines = text.split(/\r?\n/);
    const html: string[] = [];
    let listBuffer: string[] = [];
    let inOrdered = false;
    let inUnordered = false;
    let inBlockquote = false;

    const flushList = () => {
        if (listBuffer.length) {
            if (inOrdered) {
                html.push("<ol>" + listBuffer.join("") + "</ol>");
            } else {
                html.push("<ul>" + listBuffer.join("") + "</ul>");
            }
        }
        listBuffer = [];
        inOrdered = false;
        inUnordered = false;
    };

    for (let rawLine of lines) {
        const line = rawLine.trim();

        if (!line) {
            flushList();
            inBlockquote = false;
            html.push("");
            continue;
        }

        if (/^(\*\s*\*\s*\*|-\s*-\s*-|_\s*_\s*)$/.test(line)) {
            flushList();
            html.push("<hr />");
            continue;
        }

        if (/^>\s*(.*)$/.test(line)) {
            flushList();
            const quote = line.replace(/^>\s?/, "");
            if (!inBlockquote) {
                html.push("<blockquote>");
                inBlockquote = true;
            }
            html.push(renderInline(quote));
            continue;
        } else if (inBlockquote) {
            html.push("</blockquote>");
            inBlockquote = false;
        }

        if (/^\d+\.\s+/.test(line)) {
            const item = line.replace(/^\d+\.\s+/, "");
            if (!inOrdered) {
                flushList();
                inOrdered = true;
            }
            listBuffer.push(`<li>${renderInline(item)}</li>`);
            continue;
        }

        if (/^[-+*]\s+/.test(line)) {
            const item = line.replace(/^[-+*]\s+/, "");
            if (!inUnordered) {
                flushList();
                inUnordered = true;
            }
            listBuffer.push(`<li>${renderInline(item)}</li>`);
            continue;
        }

        flushList();
        html.push(renderInline(line));
    }

    flushList();

    if (inBlockquote) {
        html.push("</blockquote>");
    }

    return html.join("\n");
};

const convertComponentNameToPath = (componentName: string): string => {
    return componentName
        .substring(2)
        .replace(/^./, (match) => match.toLowerCase())
        .replace(/([A-Z])/g, "-$1")
        .toLowerCase();
};

const formatComponentDisplayName = (dependency: string): string => {
    return dependency
        .replace(/^pc-/i, "")
        .split("-")
        .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
        .join(" ");
};

// Load the manifest and version
const manifest = await loadManifest();
const packageVersion = manifest?.package?.version ?? "unknown";

const cdnBaseURL = `https://cdn.jsdelivr.net/npm/placer-toolkit@${packageVersion}`;

const componentData = manifest
    ? findComponentData(manifest, componentName)
    : null;

// Filter and organise data
const properties =
    componentData?.members?.filter(
        (member): member is CEMProperty =>
            member.kind === "field" && member.privacy !== "private",
    ) || [];

const methods =
    componentData?.members?.filter(
        (member): member is CEMMethod =>
            member.kind === "method" && member.privacy !== "private",
    ) || [];

const events = componentData?.events || [];
const slots = componentData?.slots || [];
const cssProperties = componentData?.cssProperties || [];
const cssParts = componentData?.cssParts || [];
const animations = componentData?.animations || [];
const dependencies = componentData?.dependencies || [];

// Set docs localisation up
const language = getLanguageFromURL(Astro.url);
const translation = useTranslations(language);
const translatePath = useTranslatedPath(language);

// Generate import paths
const componentPath = convertComponentNameToPath(componentName);
const cdnURL = `${cdnBaseURL}/cdn/components/${componentPath}/${componentPath}.js`;
const importPath = `placer-toolkit/dist/components/${componentPath}/${componentPath}.js`;
---

{
    componentData && (
        <div class="api-documentation" lang={language}>
            {properties.length > 0 && (
                <section class="api-section">
                    <Heading level="2">{translation("apiTable.heading.properties")}</Heading>

                    <pc-scroller class="table-wrapper" aria-labelledby={(translation("apiTable.heading.properties") as string).toLowerCase()}>
                        <table class="api-table">
                            <thead>
                                <tr>
                                    <th class="name">{translation("apiTable.table.name")}</th>
                                    <th class="description">{translation("apiTable.table.description")}</th>
                                    <th style="text-align: center">{translation("apiTable.table.reflects")}</th>
                                    <th class="default">{translation("apiTable.table.default")}</th>
                                </tr>
                            </thead>
                            <tbody lang="en" dir="ltr">
                                {properties.map((property) => (
                                    <tr>
                                        <td class="name">
                                            <code>{property.name}</code>
                                            {property.attribute &&
                                                property.attribute !==
                                                    property.name && (
                                                    <>
                                                        <br />
                                                        <code style="font-size: var(--pc-font-size-xxs)">
                                                            {property.attribute}
                                                        </code>
                                                    </>
                                                )}
                                        </td>
                                        <td class="description">
                                            {property.description && (
                                                <span
                                                    set:html={renderMarkdown(property.description)}
                                                />
                                            )}
                                            {property.type && (
                                                <br />
                                                <small class="type-info">
                                                    <b>
                                                        {translation("apiTable.label.type")}
                                                        <code>
                                                            {formatType(
                                                                property.type,
                                                            )}
                                                        </code>
                                                    </b>
                                                </small>
                                            )}
                                        </td>
                                        <td
                                            style="text-align: center"
                                            set:html={getReflectsIcon({
                                                attribute: property.attribute,
                                                reflects: property.reflects,
                                            })}
                                        />
                                        <td class="default">
                                            {property.default ? (
                                                <code>{property.default}</code>
                                            ) : (
                                                "‐"
                                            )}
                                        </td>
                                    </tr>
                                ))}
                                <tr lang={language}>
                                    <td class="name">
                                        <code>updateComplete</code>
                                    </td>
                                    <td>
                                        {language === "en" && (
                                            <>
                                                A read‐only promise that resolves when
                                                the component has
                                                <a href="/docs/get-started/usage/#component-rendering-and-updating">finished updating</a>.
                                            </>
                                        )}
                                        {language === "de" && (
                                            <>
                                                Ein schreibgeschütztes Promise, das erfüllt ist,
                                                sobald die Komponente
                                                <a href="/de/docs/get-started/usage/#komponentenrendering-und-aktualisierung">
                                                    fertig aktualisiert</a> wurde.
                                            </>
                                        )}
                                    </td>
                                    <td style="text-align: center">
                                        <pc-icon
                                            class="does-not-reflect"
                                            library="default"
                                            icon-style="solid"
                                            name="xmark"
                                            label={translation("apiTable.reflects.no") as string}
                                        />
                                    </td>
                                    <td class="default">‐</td>
                                </tr>
                            </tbody>
                        </table>
                    </pc-scroller>
                    <p>
                        {language === "en" && (
                            <>
                                Learn more about <a href="/docs/get-started/usage/#attributes-and-properties">customising animations</a>.
                            </>
                        )}
                        {language === "de" && (
                            <>
                                Erfahre mehr über <a href="/de/docs/get-started/usage/#attribute-und-eigenschaften">Attribute und Eigenschaften</a>.
                            </>
                        )}
                    </p>
                </section>
            )}

            {slots.length > 0 && (
                <section class="api-section">
                    <Heading level="2">{translation("apiTable.heading.slots")}</Heading>

                    <pc-scroller class="table-wrapper" aria-labelledby={(translation("apiTable.heading.slots") as string).toLowerCase()}>
                        <table class="api-table">
                            <thead>
                                <tr>
                                    <th class="name">{translation("apiTable.table.name")}</th>
                                    <th class="description">{translation("apiTable.table.description")}</th>
                                </tr>
                            </thead>
                            <tbody lang="en" dir="ltr">
                                {slots.map((slot) => (
                                    <tr>
                                        <td class="name">
                                            {slot.name && slot.name !== "‐" ? (
                                                <code>{slot.name}</code>
                                            ) : (
                                                `${translation("apiTable.label.slots.default")}`
                                            )}
                                        </td>
                                        <td class="description">
                                            {slot.description && (
                                                <span
                                                    set:html={renderMarkdown(slot.description)}
                                                />
                                            )}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </pc-scroller>
                    <p>
                        {language === "en" && (
                            <>
                                Learn more about <a href="/docs/get-started/usage/#slots">using slots</a>.
                            </>
                        )}
                        {language === "de" && (
                            <>
                                Erfahre mehr über <a href="/de/docs/get-started/usage/#slots">die Benutzung von Slots</a>.
                            </>
                        )}
                    </p>
                </section>
            )}

            {methods.length > 0 && (
                <section class="api-section">
                    <Heading level="2">{translation("apiTable.heading.methods")}</Heading>

                    <pc-scroller class="table-wrapper" aria-labelledby={(translation("apiTable.heading.methods") as string).toLowerCase()}>
                        <table class="api-table">
                            <thead>
                                <tr>
                                    <th class="name">{translation("apiTable.table.name")}</th>
                                    <th class="description">{translation("apiTable.table.description")}</th>
                                    <th class="arguments">{translation("apiTable.table.arguments")}</th>
                                </tr>
                            </thead>
                            <tbody lang="en" dir="ltr">
                                {methods.map((method) => (
                                    <tr>
                                        <td class="name">
                                            <code>{method.name}()</code>
                                        </td>
                                        <td class="description">
                                            {method.description && (
                                                <span
                                                    set:html={renderMarkdown(
                                                        method.description,
                                                    )}
                                                />
                                            )}
                                        </td>
                                        <td class="arguments">
                                            {method.parameters?.length
                                                ? method.parameters.map(
                                                      (param, index) => (
                                                          <>
                                                              <code>
                                                                  {param.name}:{" "}
                                                                  {formatType(
                                                                      param.type,
                                                                  )}
                                                              </code>
                                                              {index <
                                                                  method
                                                                      .parameters!
                                                                      .length -
                                                                      1 && ", "}
                                                          </>
                                                      ),
                                                  )
                                                : "‐"}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </pc-scroller>
                    <p>
                        {language === "en" && (
                            <>
                                Learn more about <a href="/docs/get-started/usage/#methods">methods</a>.
                            </>
                        )}
                        {language === "de" && (
                            <>
                                Erfahre mehr über <a href="/de/docs/get-started/usage/#methoden">Methoden</a>.
                            </>
                        )}
                    </p>
                </section>
            )}

            {events.length > 0 && (
                <section class="api-section">
                    <Heading level="2">{translation("apiTable.heading.events")}</Heading>

                    <pc-scroller class="table-wrapper" aria-labelledby={(translation("apiTable.heading.events") as string).toLowerCase()}>
                        <table class="api-table">
                            <thead>
                                <tr>
                                    <th class="name">{translation("apiTable.table.name")}</th>
                                    <th class="description">{translation("apiTable.table.description")}</th>
                                    <th class="event-detail">{translation("apiTable.table.eventDetail")}</th>
                                </tr>
                            </thead>
                            <tbody lang="en" dir="ltr">
                                {events.map((event) => (
                                    <tr>
                                        <td class="name">
                                            <code>{event.name}</code>
                                        </td>
                                        <td class="description">
                                            {event.description && (
                                                <span
                                                    set:html={renderMarkdown(event.description)}
                                                />
                                            )}
                                        </td>
                                        <td class="event-detail">
                                            {event.type ? (
                                                <code>
                                                    {formatType(event.type)}
                                                </code>
                                            ) : (
                                                "‐"
                                            )}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </pc-scroller>
                    <p>
                        {language === "en" && (
                            <>
                                Learn more about <a href="/docs/get-started/usage/#events">events</a>.
                            </>
                        )}
                        {language === "de" && (
                            <>
                                Erfahre mehr über <a href="/de/docs/get-started/usage/#events">Events</a>.
                            </>
                        )}
                    </p>
                </section>
            )}

            {cssProperties.length > 0 && (
                <section class="api-section">
                    <Heading level="2">{translation("apiTable.heading.customProperties")}</Heading>

                    <pc-scroller class="table-wrapper" aria-labelledby={(translation("apiTable.heading.customProperties") as string).toLowerCase().replace(/\s+/g, "-")}>
                        <table class="api-table">
                            <thead>
                                <tr>
                                    <th class="name">{translation("apiTable.table.name")}</th>
                                    <th class="description">{translation("apiTable.table.description")}</th>
                                    <th class="default">{translation("apiTable.table.default")}</th>
                                </tr>
                            </thead>
                            <tbody lang="en" dir="ltr">
                                {cssProperties.map((property) => (
                                    <tr>
                                        <td class="name">
                                            <code>{property.name}</code>
                                        </td>
                                        <td class="description">
                                            {property.description && (
                                                <span
                                                    set:html={renderMarkdown(property.description)}
                                                />
                                            )}
                                        </td>
                                        <td class="default">
                                            {property.default ? (
                                                <code>{property.default}</code>
                                            ) : (
                                                "‐"
                                            )}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </pc-scroller>
                    <p>
                        {language === "en" && (
                            <>
                                Learn more about <a href="/docs/get-started/customisation/#custom-properties">customising custom properties</a>.
                            </>
                        )}
                        {language === "de" && (
                            <>
                                Erfahre mehr über
                                <a href="/de/docs/get-started/customisation/#benutzerdefinierte-eigenschaften">
                                    das Anpassen von benutzerdefinierten Eigenschaften</a>.
                            </>
                        )}
                    </p>
                </section>
            )}

            {cssParts.length > 0 && (
                <section class="api-section">
                    <Heading level="2">{translation("apiTable.heading.parts")}</Heading>

                    <pc-scroller class="table-wrapper" aria-labelledby={(translation("apiTable.heading.parts") as string).toLowerCase()}>
                        <table class="api-table">
                            <thead>
                                <tr>
                                    <th class="name">{translation("apiTable.table.name")}</th>
                                    <th class="description">{translation("apiTable.table.description")}</th>
                                </tr>
                            </thead>
                            <tbody lang="en" dir="ltr">
                                {cssParts.map((part) => (
                                    <tr>
                                        <td class="name">
                                            <code>{part.name}</code>
                                        </td>
                                        <td class="description">
                                            {part.description && (
                                                <span
                                                    set:html={renderMarkdown(part.description)}
                                                />
                                            )}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </pc-scroller>
                    <p>
                        {language === "en" && (
                            <>
                                Learn more about <a href="/docs/get-started/customisation/#css-parts">customising CSS parts</a>.
                            </>
                        )}
                        {language === "de" && (
                            <>
                                Erfahre mehr über <a href="/de/docs/get-started/customisation/#css-parts">das Anpassen von CSS‐Parts</a>.
                            </>
                        )}
                    </p>
                </section>
            )}

            {animations.length > 0 && (
                <section class="api-section">
                    <Heading level="2">{translation("apiTable.heading.animations")}</Heading>

                    <pc-scroller class="table-wrapper">
                        <table class="api-table" aria-labelledby={(translation("apiTable.heading.animations") as string).toLowerCase()}>
                            <thead>
                                <tr>
                                    <th class="name">{translation("apiTable.table.name")}</th>
                                    <th class="description">{translation("apiTable.table.description")}</th>
                                </tr>
                            </thead>
                            <tbody lang="en" dir="ltr">
                                {animations.map((animation) => (
                                    <tr>
                                        <td class="name">
                                            <code>{animation.name}</code>
                                        </td>
                                        <td class="description">
                                            {animation.description && (
                                                <span
                                                    set:html={renderMarkdown(animation.description)}
                                                />
                                            )}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </pc-scroller>
                    <p>
                        {language === "en" && (
                            <>
                                Learn more about <a href="/docs/get-started/customisation/#animations">customising animations</a>.
                            </>
                        )}
                        {language === "de" && (
                            <>
                                Erfahre mehr über <a href="/de/docs/get-started/customisation/#animationen">das Anpassen von Animationen</a>.
                            </>
                        )}
                    </p>
                </section>
            )}

            <section class="api-section">
                <Heading level="2">{translation("apiTable.heading.importing")}</Heading>

                <p>
                    {language === "en" && (
                        <>
                            If you’re using the autoloader or the standard loader,
                            you can skip this section. But if you’re cherry picking,
                            you can use any of the following snippets to import this component.
                        </>
                    )}
                    {language === "de" && (
                        <>
                            Wenn du den Autoloader oder den Standard‐Loader nutzt,
                            kannst du diesen Abschnitt überspringen. Falls du
                            „Cherry Picking“ betreibst, kannst du die folgenden
                            Snippets verwenden, um diese Komponente zu importieren.
                        </>
                    )}
                </p>

                <pc-tab-group>
                    <pc-tab slot="navigation" panel="cdn-script-tag">
                        {translation("apiTable.tabs.cdnScript")}
                    </pc-tab>
                    <pc-tab slot="navigation" panel="cdn-import">
                        {translation("apiTable.tabs.cdnImport")}
                    </pc-tab>
                    <pc-tab slot="navigation" panel="npm-import">
                        {translation("apiTable.tabs.npmImport")}
                    </pc-tab>

                    <pc-tab-panel name="cdn-script-tag">
                        <p>
                            {language === "en" && (
                                <>
                                    To manually import this component from the CDN,
                                    copy this code snippet and paste it in your HTML.
                                </>
                            )}
                            {language === "de" && (
                                <>
                                    Um diese Komponente manuell vom CDN zu importieren,
                                    kannst du dieses Code‐Snippet kopieren und es in dein HTML einfügen.
                                </>
                            )}
                        </p>
                        <CodeBlock language="html">
                        {`<script type="module" src="${cdnURL}"></script>`}
                        </CodeBlock>
                    </pc-tab-panel>
                    <pc-tab-panel name="cdn-import">
                        <p>
                            {language === "en" && (
                                <>
                                    To manually import this component from the CDN, copy
                                    this code snippet and paste it in your JavaScript file.
                                </>
                            )}
                            {language === "de" && (
                                <>
                                    Um diese Komponente manuell vom CDN zu importieren, kannst du
                                    dieses Code‐Snippet kopieren und es in deine JavaScript‐Datei einfügen.
                                </>
                            )}
                        </p>
                        <CodeBlock language="javascript">
                        {`import "${cdnURL}";`}
                        </CodeBlock>
                    </pc-tab-panel>
                    <pc-tab-panel name="npm-import">
                        <p>
                            {language === "en" && (
                                <>
                                    To manually import this component from npm, copy this
                                    code snippet and paste it in your JavaScript file.
                                </>
                            )}
                            {language === "de" && (
                                <>
                                    Um diese Komponente manuell von npm zu importieren, kannst du
                                    dieses Code‐Snippet kopieren und es in deine JavaScript‐Datei einfügen.
                                </>
                            )}
                        </p>
                        <CodeBlock language="javascript">
                        {`import "${importPath}";`}
                        </CodeBlock>
                    </pc-tab-panel>
                </pc-tab-group>
            </section>

            {dependencies.length > 0 && (
                <section class="api-section">
                    <Heading level="2">{translation("apiTable.heading.dependencies")}</Heading>

                    <p>
                        {language === "en" && (
                            <>
                                This component automatically imports these components:
                            </>
                        )}
                        {language === "de" && (
                            <>
                                Diese Komponente importiert automatisch folgende Komponenten:
                            </>
                        )}
                    </p>
                    <ul>
                        {dependencies.map((dependency) => (
                            <li>
                                <a
                                    href={translatePath(`/docs/components/${dependency.substring(3).toLowerCase()}`)}
                                >
                                    {formatComponentDisplayName(dependency)}
                                </a>
                            </li>
                        ))}
                    </ul>
                </section>
            )}
        </div>
    )
}

<style>
    section pc-scroller,
    section p {
        margin-block-end: var(--pc-content-spacing);
    }

    section pc-scroller table .name,
    section pc-scroller table .default,
    section pc-scroller table .arguments,
    section pc-scroller table .event-detail {
        white-space: nowrap;
    }

    section pc-scroller table .description {
        min-inline-size: 40ch;
    }

    section pc-scroller table .type-info b {
        font-weight: var(--pc-font-weight-semibold);
    }
</style>
